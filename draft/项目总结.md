# 雅安市农副产品在线交易系统开发项目总结 #


- **项目名称：**农副产品在线交易系统开发
- **项目背景：**随着国内经济的发展，乡村的农副产能的逐步地提升，一方面城市周围乡村居民能产出有机绿色农副产品在满足自家消耗之外有不少的剩余，剩余的家产品资源对农家来说找不到合理的输出渠道；另一方面，随着国内GDP的提升，城市内中产阶级崛起，随着此阶层居民认知水平的提升，他们对饮食起居的品质要求也越来越高，同时城市居民普遍青睐乡村田园的绿色产品。也就是说城市居民对有机绿色农副产品有大量的需求，而城市周围农村也能提供过剩的绿色农副产品，而本项目就是提供一个平台，实现连接双方需求，发布双方供需息，促进双方交易，并从中获利。
- **项目简介：**用户在平台上注册后，即可在线浏览并购买商品，若要成为卖家发布商品功能，需要另外开通注册卖家身份。系统自动根据用户地址推荐最近的商品与卖家，卖家可提前发布商品时并提供商品所在地与正式销售时间，买家可根据商品信息预订商品或直接购买。卖家根据下单情况到期为卖家发货，同时，买家也可选择到时到点自提货物。买家浏览商品后，可以将商品放入购物车，也可以直接购买。下单后，商品正式销售时间前，买家可以提前取消订单，卖家也可以有限地更改商品信息并通知已下单买家。商品正式销售开始，卖家须准确地为买家提供货物，如果出现商品供应不足的情况，双方可协定如何处理，也可以由卖家退款并赔付指定比例钱款并，订单终止。正常情况下，买家收到货物并评价后，订单终止。每达成一笔订单，评分系统自动为双方增加相应积分，同时，双方互相评价也进入到用户积分数据库中。用户积分对应用户等级，用户等级越高能享受到的平台权限越多（如：商品排名，促销活动展示排名）。欺诈交易行为（商品品质问题、恶意评价等），经平台管理确认，由平台管理员扣除相关用户积分，降低用户等级，也可根据情节严重程度冻结用户ID。
- **采用技术：**Spring、Mybatis、SpringMVC、Html5、JavaScript、AJAX、CSS
- **开发环境：**JDK 1.7、Tomcat 8.0.44、Maven 3.3.9、Mysql 5.0.67
- #### 功能描述： ####
	- **注册登录功能：**
		- 本系统使用邮箱或电话注册并验证，后台验证使用邮箱与电话的唯一性（Ajax动态验证），并发送验证信息到指定邮箱或电话号码，后台验证用户输入验证信息是否正确。在登录时，也同样使用Ajax动态验证验证码的正确性。整个流程使用spring框架中央控制器完成拦截，实现验证触发页面跳转。
	- **商品展示功能：**
		- 商品展示分为热门商品展示与最新商品展示。主要通过对数据库商品数据的关键字段（商家积分与商品上架时间）进行排序查询，并对筛选结果进行分页展示。整个流程通过Mybatis连接数据库与spring控制器实现数据库数据获取并传入到商品展示页面；
	- **商品详情与购物车功能：**
		- 商品详情页面包含众多功能，当进入到指定商品详情页时，控制器会根据商品ID联合查询出数据库中所有商品信息，在页面不同区域展示。商品库存信息将实时根据系统中访商品原库存与量与订单量计算得出。同时，在该页面买家可以将指定量商品置入自己的购物车。而加入购物车功能与用户是否登录关系紧密，所以在用户登录时就用将登录用户ID存入页面Session。当用户操作到关于用户信息时，则使用页面验证Session中用户信息是否合法。
	- **订单管理功能：**
		- 订单分为四种状态：已完成、未完成、进行中、已删除，分别对应着四种交易状态。由交易现状决定这四种状态。系统根据交易实情对订单四种状态进行更新。
	- **商品管理功能：**
		- 商品上上架：卖家可进入商品发布页面进行商品信息上传，包括价格、产品名字、图片、视频等（视频有限制大小），上传到服务器的时候系统会默认获得当前的时间一并存入数据库作为商品上架时间（系统会根据时间来进行商品排序展示），图片、视频等会存入一个特定的服务器文件夹里，地址将存入与卖家相关联的商品信息表。
		- 商品下架：卖家可进入商品管理页面读商品进行下架操作，商品一但下架将不再展示给用户，只能卖家自己查看，而下架商品只需要卖家选择商品点击下架，系统就会自动更新当前商品状态（更新数据库商品的状态字段）。
		- 商品管理页面可对商品进行信息修改、状态更新、商品删除等操作；其中点击商品信息修改的话会进入修改页面，此页面会根据当前的商品id查出详细信息显示到文本框，卖家可对文本框信息进行修改，而图片信息会直接展示出来，每张图片后都有一个删除的按钮，可对图片进行删除后重新上传新的图片。当商家提交修改后再将数据保存到数据库；商品删除操作可删除指定的商品，删除后数据库将不存在此商品信息。
