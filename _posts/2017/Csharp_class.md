---
title: C#中类（面向对象）的认识
date: 2016-11-31 22:02:43
categories: programming
tags: [programming,C#,面向对象]
description: C#中的通过对类的学习认识面向对象
---

类中有成员：

	- 方法
	- 变量（字段）
	- 属性（对变量的限定）
	- 类中不能直接对变量赋值，只能在方法中对变量赋值。我们看到的直接赋值的情况实际上是利用构造函数直接赋值，eg：string str = "str";

#### 类的构成

- 变量
- 构造函数
- 方法（构成：访问修饰符+返回类型+方法名（参数））
    - 重要类成员，当函数名返回类型都一样时，参数不一样，这两个函数可以共存；
        - 方法的参数可分为：
            - 值参数（不含任何修饰符，形参是实参的一份拷贝，方法中对形参的改变不会影响到实参的值）
            - 引用参数
                - 用ref关键字来申明，传递的参数实质上是实参的地址，方法中对形参的操作就是对实参的操作，在调用时一样要用到ref关键字；
                - 其后面变量一定要初始化，因为没初始化内存中是不存在其地址的，比如，int a;这儿的变量a就是没有初始化的；
                - 先把实参地址传入方法，再在方法中执行；
            - 输出参数
                - 输出参数，用关键字out来声明；
                - 与引用参数类似，直接对实参进行操作，在声明和调用时都需要用到out关键字；
                - out的对象不要求在传递给方法之前初始化
                - 但在方法返回前必须对参数进行赋值；
                - 运行原理是与引用参数相反，先申明一变量（没内存空间），再在方法里申请变量内存空间，赋值后再把值的地址out给之前申请的内存使之指向方法中这个值，所以方法返回前必须对参数赋值；
            - 数组型参数（传入数组形参）
                - 关键字：params
                - 该关键字用来声明用于可变长度的形参列表，方法声明中最多只能包含一params参数；
                - 并且该参数（数组）必须是参数列表中最后一个参数；
                - 数组参数必须是一维数组（对应多维数组）；
                - 不允许与ref、out修辞符组合起来用；
                - 若实参是数组，则按引用传递；若实参是变量或表达式，则按值传递；

#### 方法重载

- 给功能相似的方法提供同一名称，实现编译时的多态性，引入方法重载概念，是面向对象程序设计的重要概念。特点：
    - 1.方法名相同（必要条件）
    - 2.参数列表不完全相同，参数个数、参数的类型；
    - 3.返回类型不同，参数相同，这个不是方法重载，必须重命名一个方法名；

#### 静态成员

- 非静态类成员实例化后，有几个对象就有几个类中成员；
- 而，静态成员（两者区别如下）：
    - 内存分配：静态变量定义在类中后，内存中只存在这一个成员；
    - 调用方式：访问必须在前加上类名:Class.member;
    - 生命周期：在程序运行初始就初始化分配内存了，只要不关程序就一直存在；
    - 与之对应的非静态成员，必须初始化才存在（new），才分配内存；
    - 非静态变量会与其实例对象同存同毁；
